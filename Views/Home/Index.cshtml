@model IEnumerable<CatalogoWeb.Models.Producto>
@{
	ViewData["Title"] = "Tienda Online";
}
<div class="container mt-4">
	<div class="text-center mb-5">
		<h1 class="display-4 fw-bold">Bienvenido a Nuestra Tienda</h1>
		<p class="lead">Explora nuestro catálogo de productos disponibles.</p>
		<div id="carouselExampleCaptions" class="carousel slide shadow rounded mb-5" data-bs-ride="carousel">
			<div class="carousel-indicators">
				<button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
				<button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="1" aria-label="Slide 2"></button>
			</div>

			<div class="carousel-inner rounded">
				@{
					var listaProductos = Model.Take(3).ToList();
				}

				@for (int i = 0; i < listaProductos.Count; i++)
				{
					<div class="carousel-item @(i == 0 ? "active" : "")">
						<div class="d-flex justify-content-center align-items-center bg-light" style="height: 350px;">

						
							<img src="@listaProductos[i].ImagenUrl"
								 class="d-block h-100 w-auto"
								 alt="@listaProductos[i].Nombre"
								 style="object-fit: contain;"> 
						</div>

						<div class="carousel-caption d-none d-md-block bg-dark bg-opacity-50 rounded px-3">
							<h5>@listaProductos[i].Nombre</h5>
							<p>¡Cómpralo ahora por solo $@listaProductos[i].Precio!</p>
							<a asp-controller="Productos" asp-action="Details" asp-route-id="@listaProductos[i].Id" class="btn btn-sm btn-primary">Ver Producto</a>
						</div>
					</div>
				}
			</div>

				<div class="carousel-item">
					<img src="https://via.placeholder.com/1200x400" alt="Oferta 2" style="height: 600px; object-fit: contain;">
					<div class="carousel-caption d-none d-md-block bg-dark bg-opacity-50 rounded">
						<h5>Nuevos Ingresos</h5>
						<p>Lo último en moda y accesorios ha llegado.</p>
					</div>
				</div>
			</div>

			<button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="prev">
				<span class="carousel-control-prev-icon" aria-hidden="true"></span>
				<span class="visually-hidden">Anterior</span>
			</button>
			<button class="carousel-control-next" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="next">
				<span class="carousel-control-next-icon" aria-hidden="true"></span>
				<span class="visually-hidden">Siguiente</span>
			</button>
		</div>
	</div>
	
<div class="row row-cols-1 row-cols-md-3 row-cols-lg-4 g-4">
	@foreach (var item in Model)
	{
		<div class="col">
			<div class="card h-100 border-0 shadow-sm transition-hover">
				<img src="@item.ImagenUrl" class="card-img-top p-3" alt="@item.Nombre" style="height: 200px; object-fit: contain;">
				<div class="card-body d-flex flex-column">
					<h5 class="card-title h6">@item.Nombre</h5>
					<p class="text-primary fw-bold fs-5">$ @item.Precio</p>

					<div class="mt-auto">
						@* El usuario solo ve el botón de detalles o comprar *@
						<a asp-controller="Productos" asp-action="Details" asp-route-id="@item.Id" class="btn btn-outline-dark w-100">
							Ver Detalles
						</a>
					</div>
				</div>
			</div>
		</div>
	}
</div>

<style>
	.transition-hover {
		transition: transform 0.2s;
	}

		.transition-hover:hover {
			transform: translateY(-5px);
		}
</style>