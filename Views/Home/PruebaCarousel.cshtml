@model IEnumerable<CatalogoWeb.Models.Producto>
@{
	ViewData["Title"] = "PruebaCarousel";
}
@{
	var lista = Model.Take(3).ToList();
}
<div id="miCarousel" class="carousel slide" data-bs-ride="carousel">

	<div class="carousel-indicators">
		 @for (int i = 0; i < lista.Count; i++)
	{
			<button type="button" data-bs-target="#miCarousel" data-bs-slide-to="@i" class="@(i == 0 ? "active" : "")" aria-current="@(i == 0 ? "true" : "false")"></button>

	}



	</div>
	<div class="carousel-inner">
		@for (int i = 0; i < lista.Count; i++)
		{
			var producto = lista[i];
			<div class="carousel-item @(i == 0 ? "active" : "")">
				<div class="d-flex justify-content-center align-items-center bg-light" style="height: 400px">
				<img src="@producto.ImagenUrl" class="carousel-img" onerror="this.src='/imagenes/sin-imagen.jpg'">

				</div>
				<div class="carousel-caption d-none d-md-block bg-dark bg-opacity-50  px-4">
					<h5>@producto.Nombre</h5>
					<p>@producto.Precio</p>
					<a href="#" class="btn btn-primary btn-sm">Ver más</a>
				</div>
			</div>
		}
	</div>
  <button class="carousel-control-prev" type="button" data-bs-target="#miCarousel" data-bs-slide="prev">
		<span class="carousel-control-prev-icon"></span>
  </button>
	<button class="carousel-control-next" type="button" data-bs-target="#miCarousel" data-bs-slide="next">
		<span class="carousel-control-next-icon"></span>
	</button>
</div>
<div class="container mt-5">
	<h2 class="mb-4">Nuestros Productos</h2>
	<div class="row row-cols-1 row-cols-md-3 row-cols-lg-4 g-4">
		@foreach (var item in Model)
		{
			<div class="col">
				<div class="card h-100 border-0 shadow-sm card-hover">
					<img src="@item.ImagenUrl" class="card-img-top p-3" style="height: 200px; object-fit: contain;">
					<div class="card-body d-flex flex-column">
						<h5 class="card-title">@item.Nombre</h5>
						<p class="text-success fw-bold">$@item.Precio</p>
						<div class="mt-auto">
							<button class="btn btn-outline-primary w-100">Añadir al carrito</button>
						</div>
					</div>
				</div>
			</div>
		}
	</div>
</div>
<style>
	.carousel-item {
		height: 400px;
		background-color: gray;
	}

		.carousel-item img {
			width: 100%;
			height: 100%;
			object-fit: contain;
		}

		.carousel-indicators [data-bs-target].active
		{
			background-color: deepskyblue; 
		}
		.carousel-indicators [data-bs-target] {
			background-color: gray;
			opacity: 1;
		}

		
</style>
		
